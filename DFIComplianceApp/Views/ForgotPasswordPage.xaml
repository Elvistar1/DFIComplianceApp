<?xml version="1.0" encoding="utf-8"?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:DFIComplianceApp.ViewModels"
             x:Class="DFIComplianceApp.Views.ForgotPasswordPage"
             x:DataType="vm:ForgotPasswordViewModel"
             Title="Reset Password"
             BackgroundColor="White">

    <Grid>
        <!-- Tap-to-dismiss keyboard gesture -->
        <Grid.GestureRecognizers>
            <TapGestureRecognizer Command="{Binding DismissKeyboardCommand}" />
        </Grid.GestureRecognizers>

        <VerticalStackLayout Padding="24" Spacing="20" VerticalOptions="CenterAndExpand">

            <Label Text="Reset Password"
                   FontSize="28"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   TextColor="DarkSlateBlue" />

            <Label Text="Enter your email and we'll send you a reset link."
                   FontSize="14"
                   HorizontalOptions="Center"
                   TextColor="Gray" />

            <!-- Styled Entry in Frame -->
            <Frame HasShadow="False"
                   BorderColor="#ccc"
                   CornerRadius="8"
                   Padding="10"
                   BackgroundColor="#f0f0f0">
                <Entry x:Name="EmailEntry"
                       Placeholder="Email"
                       Keyboard="Email"
                       Text="{Binding Email}"
                       ClearButtonVisibility="WhileEditing"
                       FontSize="16"
                       PlaceholderColor="Gray"
                       BackgroundColor="Transparent"
                       HeightRequest="40" />
            </Frame>

            <!-- Reset Button -->
            <Button Text="Send Reset Link"
                    Command="{Binding ResetCommand}"
                    IsEnabled="{Binding IsBusy, Converter={StaticResource InverseBoolConverter}}"
                    BackgroundColor="#3B82F6"
                    TextColor="White"
                    CornerRadius="10"
                    FontAttributes="Bold"
                    HeightRequest="48" />

            <!-- Activity Indicator -->
            <ActivityIndicator IsRunning="{Binding IsBusy}"
                               IsVisible="{Binding IsBusy}"
                               Color="#3B82F6"
                               HorizontalOptions="Center"
                               HeightRequest="30" />
        </VerticalStackLayout>
    </Grid>

</ContentPage>
