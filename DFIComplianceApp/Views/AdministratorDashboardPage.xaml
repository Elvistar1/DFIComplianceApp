<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.Maui;assembly=LiveChartsCore.SkiaSharpView.Maui"
    xmlns:lvcDefault="clr-namespace:LiveChartsCore.SkiaSharpView;assembly=LiveChartsCore.SkiaSharpView"
    x:Class="DFIComplianceApp.Views.AdministratorDashboardPage"
   Title="Administrator Dashboard"
             BackgroundColor="White">

    <ContentPage.Resources>
        <ResourceDictionary>
            <Style x:Key="PrimaryButton" TargetType="Button">
                <Setter Property="CornerRadius" Value="12"/>
                <Setter Property="Padding" Value="12,8"/>
                <Setter Property="TextColor" Value="White"/>
                <Setter Property="FontSize" Value="16"/>
            </Style>
            <Style x:Key="SecondaryButton" TargetType="Button" BasedOn="{StaticResource PrimaryButton}">
                <Setter Property="BackgroundColor" Value="#388E3C"/>
            </Style>
            <Style x:Key="DangerButton" TargetType="Button" BasedOn="{StaticResource PrimaryButton}">
                <Setter Property="BackgroundColor" Value="#F44336"/>
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="24">

            <Label Text="Welcome, Administrator!" FontSize="26" FontAttributes="Bold" TextColor="#333" />

            <!-- 📊 System Analytics Charts -->
            <Frame Padding="10" BackgroundColor="#F0F8FC" CornerRadius="12">
                <VerticalStackLayout Spacing="16">
                    <Label Text="📈 System User Statistics" FontSize="18" FontAttributes="Bold" TextColor="#333" />

                    <!-- ✅ Fixed Bar Chart -->
                    <lvc:CartesianChart x:Name="BarChart"
                    HeightRequest="220"
                    Series="{Binding BarSeries}"/>


                    <!-- Pie Chart -->
                    <lvc:PieChart HeightRequest="200"
                                  Series="{Binding PieSeries}"
                                  LegendPosition="Right" />
                </VerticalStackLayout>
            </Frame>

            <!-- 📤 Export Reports -->
            <Frame Padding="10" BackgroundColor="#f5f5f5" CornerRadius="12">
                <VerticalStackLayout Spacing="10">
                    <Label Text="📤 Export System Reports" FontSize="18" FontAttributes="Bold" TextColor="#333" />
                    <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                        <Button Text="📄 Export to PDF"
                                Clicked="OnExportToPdfClicked"
                                Style="{StaticResource PrimaryButton}"
                                BackgroundColor="#1976D2"
                                HorizontalOptions="FillAndExpand"
                                Grid.Column="0"/>
                        <Button Text="📊 Export to Excel"
                                Clicked="OnExportToExcelClicked"
                                Style="{StaticResource SecondaryButton}"
                                HorizontalOptions="FillAndExpand"
                                Grid.Column="1"/>
                    </Grid>
                </VerticalStackLayout>
            </Frame>

            <!-- 👥 User Management -->
            <Frame Padding="10" BackgroundColor="#fff" CornerRadius="12">
                <VerticalStackLayout Spacing="10">
                    <Label Text="👥 User Management" FontSize="18" FontAttributes="Bold" />
                    <Button Text="➕ Create New Users"
                            Clicked="OnCreateUserClicked"
                            Style="{StaticResource PrimaryButton}"
                            BackgroundColor="#64B5F6"/>
                    <Button Text="🛠️ Manage Users"
                            Clicked="OnManageUsersClicked"
                            Style="{StaticResource PrimaryButton}"
                            BackgroundColor="#1976D2"/>
                </VerticalStackLayout>
            </Frame>

            <!-- 🔍 System Monitoring -->
            <Frame Padding="10" BackgroundColor="#fff" CornerRadius="12">
                <VerticalStackLayout Spacing="10">
                    <Label Text="🔍 System Monitoring" FontSize="18" FontAttributes="Bold" />
                    <Button Text="🔍 Monitor Activities"
                            Clicked="OnActivityLogClicked"
                            Style="{StaticResource PrimaryButton}"
                            BackgroundColor="#FFB300"
                            TextColor="#333"/>
                    <Button Text="🤖 AI Report Oversight"
                            Clicked="OnAIReportOversightClicked"
                            Style="{StaticResource PrimaryButton}"
                            BackgroundColor="#CE93D8"/>
                </VerticalStackLayout>
            </Frame>

    

            <Frame Padding="10" BackgroundColor="#fff" CornerRadius="12">
                <VerticalStackLayout Spacing="10">
                    <Button Text="⚙️ System Settings"
                            Clicked="OnSystemSettingsClicked"
                            Style="{StaticResource PrimaryButton}"
                            BackgroundColor="#90A4AE"/>

          

                    <Button Text="🚪 Log Out"
                            Clicked="OnLogoutClicked"
                            Style="{StaticResource DangerButton}"/>
                </VerticalStackLayout>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
